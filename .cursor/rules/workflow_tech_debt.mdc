---
alwaysApply: false
---
# Workflow: Tech Debt - –ü—Ä–∞–≤–∏–ª–∞ —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

> –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è code-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ —Å–æ–≥–ª–∞—Å–Ω–æ [tasklist_tech_debt.md](tasklist_tech_debt.md)

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–°—Ç—Ä–æ–≥–æ —Å–ª–µ–¥—É–π –ø–ª–∞–Ω—É** –∏–∑ [tasklist_tech_debt.md](tasklist_tech_debt.md)
2. **–ö–∞—á–µ—Å—Ç–≤–æ –±–µ–∑ —Ñ–∞–Ω–∞—Ç–∏–∑–º–∞** - —É–ª—É—á—à–∞–µ–º –∫–æ–¥, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ—Å—Ç–æ—Ç—É
3. **–°–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞–π ‚Üí –†–µ–∞–ª–∏–∑—É–π ‚Üí –ü—Ä–æ–≤–µ—Ä—è–π –∫–∞—á–µ—Å—Ç–≤–æ ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–π**
4. **–û–±–Ω–æ–≤–ª—è–π –ø—Ä–æ–≥—Ä–µ—Å—Å** –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
5. **–°–ª–µ–¥—É–π conventions** –∏–∑ [conventions.mdc](conventions.mdc)

---

## –ü—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Tech Debt –∏—Ç–µ—Ä–∞—Ü–∏–∏

### 1Ô∏è‚É£ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∏—Ç–µ—Ä–∞—Ü–∏–∏:**
- [ ] –ü—Ä–æ—á–∏—Ç–∞–π –æ–ø–∏—Å–∞–Ω–∏–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∏–∑ [tasklist_tech_debt.md](tasklist_tech_debt.md)
- [ ] –û—Ü–µ–Ω–∏ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
- [ ] –ü—Ä–µ–¥–ª–æ–∂–∏ —Ä–µ—à–µ–Ω–∏–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏/–∫–æ–¥–∞
- [ ] –ü–æ–∫–∞–∂–∏ –∫–∞–∫ —ç—Ç–æ —É–ª—É—á—à–∏—Ç –∫–∞—á–µ—Å—Ç–≤–æ/–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- [ ] –£–∫–∞–∂–∏ –æ–∂–∏–¥–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (coverage, mypy —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
- [ ] **–î–æ–∂–¥–∏—Å—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è** –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

‚ùó **–ù–µ –Ω–∞—á–∏–Ω–∞–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ —á–µ—Ç–∫–æ–≥–æ –ø–ª–∞–Ω–∞!**

---

### 2Ô∏è‚É£ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–ü–æ—Å–ª–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è:**
- [ ] –†–µ–∞–ª–∏–∑—É–π –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É
- [ ] –û–±–Ω–æ–≤–∏/—Å–æ–∑–¥–∞–π —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (pyproject.toml, Makefile)
- [ ] –ü—Ä–∏–º–µ–Ω–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫–æ–¥—É
- [ ] –ù–∞–ø–∏—à–∏/–æ–±–Ω–æ–≤–∏ —Ç–µ—Å—Ç—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- [ ] –£–±–µ–¥–∏—Å—å, —á—Ç–æ –Ω–µ –Ω–∞—Ä—É—à–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞:**
- ‚úÖ –ö–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç `make format` (Ruff —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- ‚úÖ –ö–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç `make lint` –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- ‚úÖ –ö–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç `make typecheck` (mypy strict)
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç `make test`
- ‚úÖ Coverage –Ω–µ —Å–Ω–∏–∑–∏–ª–æ—Å—å (—Ü–µ–ª—å ‚â• 80%)
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã (KISS)
- ‚úÖ –ù–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π

---

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**

```bash
# 1. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make format

# 2. –õ–∏–Ω—Ç–∏–Ω–≥
make lint

# 3. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
make typecheck

# 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make test

# 5. –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
make quality
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:**
- ‚úÖ Format: OK
- ‚úÖ Lint: 0 critical errors
- ‚úÖ Typecheck: Success (0 errors)
- ‚úÖ Tests: All passed
- ‚úÖ Coverage: ‚â• 80%

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞–º:**
- [ ] –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç [conventions.mdc](conventions.mdc) - KISS, –±–µ–∑ –æ–≤–µ—Ä–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–∞, type hints
- [ ] –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç [workflow.mdc](workflow.mdc) - –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
- [ ] –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç [vision.md](vision.md) - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, MVP –ø–æ–¥—Ö–æ–¥, 1 –∫–ª–∞—Å—Å = 1 —Ñ–∞–π–ª

---

### 4Ô∏è‚É£ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞:**
- [ ] –û—Ç–º–µ—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —á–µ–∫–±–æ–∫—Å—ã –≤ [tasklist_tech_debt.md](tasklist_tech_debt.md)
- [ ] –û–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (‚è≥ ‚Üí üöß ‚Üí ‚úÖ)
- [ ] –ü—Ä–æ—Å—Ç–∞–≤—å –¥–∞—Ç—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–æ–∫:
  - Coverage: ___%
  - Mypy: Success/Failed
  - Ruff: 0 errors
- [ ] –û–±–Ω–æ–≤–∏ [conventions.mdc](conventions.mdc) –µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã
- [ ] –û–±–Ω–æ–≤–∏ [vision.md](vision.md) –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- [ ] **–î–æ–∂–¥–∏—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è** –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

‚ùó **–ù–µ –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è!**

---

### 5Ô∏è‚É£ –ö–æ–º–º–∏—Ç

**–§–æ—Ä–º–∞—Ç –∫–æ–º–º–∏—Ç–æ–≤ –¥–ª—è Tech Debt:**
```bash
# –§–æ—Ä–º–∞—Ç: refactor(scope): –æ–ø–∏—Å–∞–Ω–∏–µ
refactor(quality): add ruff and mypy configuration
refactor(types): add type hints to all modules
refactor(tests): increase test coverage to 85%
refactor(arch): introduce Protocol for DIP
refactor(structure): split TelegramBot by SRP
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–æ–º–º–∏—Ç—É:**
- [ ] –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ `make quality` –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] Coverage –Ω–µ —Å–Ω–∏–∑–∏–ª—Å—è
- [ ] –ù–µ—Ç breaking changes (–µ—Å–ª–∏ –µ—Å—Ç—å - –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π)
- [ ] **–î–æ–∂–¥–∏—Å—å –æ–¥–æ–±—Ä–µ–Ω–∏—è** –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º

---

### 6Ô∏è‚É£ –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

**–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –Ω–æ–≤–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏:**
- [ ] –û–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ (‚è≥ Pending ‚Üí üöß In Progress)
- [ ] –°–ø—Ä–æ—Å–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞: **"–ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –∏—Ç–µ—Ä–∞—Ü–∏–∏ TD-N+1?"**
- [ ] –î–æ–∂–¥–∏—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- [ ] –ù–∞—á–Ω–∏ —Å —à–∞–≥–∞ 1Ô∏è‚É£ (–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## –®–∞–±–ª–æ–Ω —Ä–∞–±–æ—Ç—ã –¥–ª—è Tech Debt –∏—Ç–µ—Ä–∞—Ü–∏–∏

```
1. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
   "–ü—Ä–µ–¥–ª–∞–≥–∞—é —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏ TD-N:
    
    –ò–∑–º–µ–Ω–µ–Ω–∏—è:
    - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Ruff: [–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pyproject.toml]
    - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫ –º–æ–¥—É–ª—è–º: [—Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤]
    
    –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ PEP 8
    - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
    - –î–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏ 100 —Å–∏–º–≤–æ–ª–æ–≤
    
    –ú–µ—Ç—Ä–∏–∫–∏:
    - Ruff check: 0 errors
    - –í—Ä–µ–º—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: ~1 —Å–µ–∫
    
    –°–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞–µ–º?"

2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
   [–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ pyproject.toml]
   [–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Makefile]
   [–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ make format –∫ –∫–æ–¥—É]
   "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ."

3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
   $ make quality
   ‚úÖ Format: OK
   ‚úÖ Lint: 0 errors  
   ‚úÖ Typecheck: Success
   ‚úÖ Tests: 45 passed, Coverage: 85%
   
   –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è:
   ‚úÖ conventions.mdc - KISS —Å–æ—Ö—Ä–∞–Ω–µ–Ω
   ‚úÖ workflow.mdc - –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–±–ª—é–¥–µ–Ω
   ‚úÖ vision.md - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –Ω–∞—Ä—É—à–µ–Ω–∞

4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
   [–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ tasklist_tech_debt.md]
   "–ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω. –ò—Ç–µ—Ä–∞—Ü–∏—è TD-N –∑–∞–≤–µ—Ä—à–µ–Ω–∞.
    
    –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–æ–∫:
    - Coverage: 85%
    - Mypy: Success (0 errors)
    - Ruff: 0 errors
    
    –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –≤—Ä—É—á–Ω—É—é –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª."

5. –ö–æ–º–º–∏—Ç
   "–ü—Ä–µ–¥–ª–∞–≥–∞—é –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å:
    git commit -m 'refactor(quality): add ruff and mypy configuration'"

6. –ü–µ—Ä–µ—Ö–æ–¥
   "–ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –∏—Ç–µ—Ä–∞—Ü–∏–∏ TD-N+1?"
```

---

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ tasklist_tech_debt.md

### –û—Ç–º–µ—Ç–∫–∞ –∑–∞–¥–∞—á (—á–µ–∫–±–æ–∫—Å—ã)
```markdown
- [x] –í—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞
- [ ] –ù–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
```markdown
| TD-1 | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ | ‚úÖ Done | 2025-10-11 |
| TD-2 | Type hints –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏—è | üöß In Progress | - |
```

### –§–∏–∫—Å–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```markdown
**–ü–æ—Å–ª–µ TD-1 (–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è):**
- ‚úÖ Coverage: 85%
- ‚úÖ Mypy: Success (0 errors)
- ‚úÖ Ruff: 0 critical errors
```

---

## –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Ruff format)
```bash
make format
# –î–æ–ª–∂–Ω–æ: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –∫–æ–¥
# –ü—Ä–æ–≤–µ—Ä–∫–∞: ruff format --check src tests
```

### –õ–∏–Ω—Ç–∏–Ω–≥ (Ruff check)
```bash
make lint
# –ü—Ä–∞–≤–∏–ª–∞: E, F, I, N, UP, B, C4, SIM
# –¶–µ–ª—å: 0 critical errors
```

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è (Mypy)
```bash
make typecheck
# –†–µ–∂–∏–º: strict
# –¶–µ–ª—å: 0 errors
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Pytest)
```bash
make test
# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
# –¶–µ–ª—å: coverage ‚â• 80%
```

### –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
```bash
make quality
# –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ: format ‚Üí lint ‚Üí typecheck ‚Üí test
# –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏
```

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–∞—á–µ—Å—Ç–≤—É –∫–æ–¥–∞

### Type Hints - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
```python
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
def get_history(self, user_id: int) -> list[dict[str, str]]:
    return self.dialogues.get(user_id, [])

# ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ  
def get_history(self, user_id):
    return self.dialogues.get(user_id, [])
```

### Protocol –¥–ª—è DIP (TD-4)
```python
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
from typing import Protocol

class LLMProvider(Protocol):
    def get_response(self, messages: list[dict[str, str]]) -> str: ...

class MessageHandler:
    def __init__(self, llm: LLMProvider):  # –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
        self.llm = llm
```

### Single Responsibility (TD-5)
```python
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π
class TelegramBot:  # –¢–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
    def __init__(self, handler: MessageHandler):
        self.handler = handler

class MessageHandler:  # –¢–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
    def process(self, text: str) -> str:
        return response
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö
```python
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
class Config:
    def __init__(self) -> None:
        self.token = os.getenv("TOKEN")
        if not self.token:
            raise ValueError("TOKEN is required")
```

---

## –ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å

‚ùå –ù–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä—å –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Ä–µ—à–µ–Ω–∏—è  
‚ùå –ù–µ –∫–æ–º–º–∏—Ç—å –∫–æ–¥, –Ω–µ –ø—Ä–æ—à–µ–¥—à–∏–π `make quality`  
‚ùå –ù–µ —Å–Ω–∏–∂–∞–π coverage –ø—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ  
‚ùå –ù–µ –¥–æ–±–∞–≤–ª—è–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞–¥–∏ "–∫—Ä–∞—Å–æ—Ç—ã"  
‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π —Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ç–∞–º, –≥–¥–µ –º–æ–∂–Ω–æ –ø—Ä–æ—â–µ  
‚ùå –ù–µ –Ω–∞—Ä—É—à–∞–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ conventions  
‚ùå –ù–µ –¥–µ–ª–∞–π –Ω–µ—Å–∫–æ–ª—å–∫–æ Tech Debt –∏—Ç–µ—Ä–∞—Ü–∏–π –∑–∞ —Ä–∞–∑  
‚ùå –ù–µ –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è  
‚ùå –ù–µ –∑–∞–±—ã–≤–∞–π –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ tasklist_tech_debt.md  

---

## –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –∫–∞–∂–¥–æ–π Tech Debt –∏—Ç–µ—Ä–∞—Ü–∏–∏

### –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚úÖ –ü–ª–∞–Ω —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω?  
‚úÖ –í–ª–∏—è–Ω–∏–µ –Ω–∞ –∫–æ–¥ –æ—Ü–µ–Ω–µ–Ω–æ?  
‚úÖ –û–∂–∏–¥–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —É–∫–∞–∑–∞–Ω—ã?  

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞?  
‚úÖ –ö–æ–¥ –∏–∑–º–µ–Ω–µ–Ω —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É?  
‚úÖ –¢–µ—Å—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã?  

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
‚úÖ `make format` - OK?  
‚úÖ `make lint` - 0 critical errors?  
‚úÖ `make typecheck` - Success?  
‚úÖ `make test` - All passed?  
‚úÖ Coverage ‚â• 80%?  

### –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
‚úÖ conventions.mdc - —Å–ª–µ–¥—É–µ–º?  
‚úÖ workflow.mdc - –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–±–ª—é–¥–µ–Ω?  
‚úÖ vision.md - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –Ω–∞—Ä—É—à–µ–Ω–∞?  

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚úÖ tasklist_tech_debt.md –æ–±–Ω–æ–≤–ª–µ–Ω?  
‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–æ–∫ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã?  
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)?  

### –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è
‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª –≤—Ä—É—á–Ω—É—é?  
‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ?  
‚úÖ –ö–æ–º–º–∏—Ç —Å–¥–µ–ª–∞–Ω?  
‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω?  

---

## –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### –¶–µ–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª—å |
|---------|------|
| Test Coverage | ‚â• 80% |
| Mypy Strict | 0 errors |
| Ruff Critical Errors | 0 |
| Line Length | ‚â§ 100 |

### –ö–æ–º–∞–Ω–¥—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è
```bash
# Coverage
pytest --cov=src --cov-report=term-missing

# Mypy
mypy src tests --strict

# Ruff
ruff check src tests --statistics

# –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏
make quality
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º workflow

**–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –Ω–∞–¥ –Ω–æ–≤—ã–º–∏ —Ñ–∏—á–∞–º–∏:**
1. –°–ª–µ–¥—É–π [workflow.mdc](workflow.mdc) –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. –ü—Ä–∏–º–µ–Ω—è–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑ —ç—Ç–æ–≥–æ workflow
3. –ó–∞–ø—É—Å–∫–∞–π `make quality` –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

**–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –Ω–∞–¥ Tech Debt:**
1. –°–ª–µ–¥—É–π —ç—Ç–æ–º—É workflow –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
2. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
3. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏—Ç–µ—Ä–∞—Ü–∏–π:**
- TD-1 ‚Üí TD-2 ‚Üí TD-3 - –º–æ–∂–Ω–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
- TD-4 ‚Üí TD-5 - —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TD-1,2,3
- –ù–µ –¥–µ–ª–∞–π –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Ç–µ—Ä–∞—Ü–∏–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

---

**–ü–æ–º–Ω–∏**: 
1. –ö–∞—á–µ—Å—Ç–≤–æ –≤–∞–∂–Ω–æ, –Ω–æ –ø—Ä–æ—Å—Ç–æ—Ç–∞ –≤–∞–∂–Ω–µ–µ
2. –í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –¥–µ–ª–∞—Ç—å –∫–æ–¥ –ª—É—á—à–µ, –∞ –Ω–µ —Å–ª–æ–∂–Ω–µ–µ
3. `make quality` - —Ç–≤–æ–π –ª—É—á—à–∏–π –¥—Ä—É–≥ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
4. Type hints –ø–æ–º–æ–≥–∞—é—Ç, –Ω–æ –Ω–µ —É—Å–ª–æ–∂–Ω—è—é—Ç
5. SOLID –ø—Ä–∏–º–µ–Ω—è–µ–º —Ä–∞–∑—É–º–Ω–æ, –±–µ–∑ —Ñ–∞–Ω–∞—Ç–∏–∑–º–∞

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-11
