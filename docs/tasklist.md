# Tasklist: –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üìä –ü—Ä–æ–≥—Ä–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

| –ò—Ç–µ—Ä–∞—Ü–∏—è | –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ |
|----------|--------|--------|------|
| 1 | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ + –≠—Ö–æ-–±–æ—Ç | ‚úÖ Done | 2025-10-10 |
| 2 | LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | ‚úÖ Done | 2025-10-10 |
| 3 | –ú–µ–Ω–µ–¥–∂–µ—Ä –¥–∏–∞–ª–æ–≥–æ–≤ | ‚úÖ Done | 2025-10-10 |
| 4 | –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ | ‚úÖ Done | 2025-10-10 |
| 5 | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ Done | 2025-10-10 |
| 6 | –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç HomeGuru | ‚è≥ Pending | - |
| 7 | –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π | ‚è≥ Pending | - |
| 8 | –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ | ‚è≥ Pending | - |
| 9 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ LangSmith | ‚è≥ Pending | - |

**–õ–µ–≥–µ–Ω–¥–∞ —Å—Ç–∞—Ç—É—Å–æ–≤:**
- ‚è≥ Pending - –Ω–µ –Ω–∞—á–∞—Ç–æ
- üöß In Progress - –≤ —Ä–∞–±–æ—Ç–µ
- ‚úÖ Done - –∑–∞–≤–µ—Ä—à–µ–Ω–æ
- ‚ùå Blocked - –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω

### –ò—Ç–µ—Ä–∞—Ü–∏—è 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è + –≠—Ö–æ-–±–æ—Ç
**–¶–µ–ª—å:** –†–∞–±–æ—á–∏–π —ç—Ö–æ-–±–æ—Ç –≤ Telegram

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
- [x] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π (`src/bot/`, `tests/`)
- [x] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç —Å `uv` (—Å–æ–∑–¥–∞—Ç—å `pyproject.toml`)
- [x] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `aiogram`, `openai`, `python-dotenv`, `pytest`
- [x] –°–æ–∑–¥–∞—Ç—å `.env.example` —Å —à–∞–±–ª–æ–Ω–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- [x] –°–æ–∑–¥–∞—Ç—å `.gitignore` (`.env`, `bot.log`, `__pycache__`, `.venv`)
- [x] –°–æ–∑–¥–∞—Ç—å `Makefile` —Å –±–∞–∑–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- [x] –°–æ–∑–¥–∞—Ç—å `src/bot/config.py` —Å –∫–ª–∞—Å—Å–æ–º `Config`
- [x] –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ `.env` —á–µ—Ä–µ–∑ `python-dotenv`
- [x] –°–æ–∑–¥–∞—Ç—å —Å–≤–æ–π `.env` —Ñ–∞–π–ª —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏

**–≠—Ö–æ-–±–æ—Ç:**
- [x] –°–æ–∑–¥–∞—Ç—å `src/bot/bot.py` —Å –∫–ª–∞—Å—Å–æ–º `TelegramBot`
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å aiogram –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram Bot API (polling)
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã `/start` - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π - —ç—Ö–æ
- [x] –°–æ–∑–¥–∞—Ç—å `src/bot/main.py` - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞

**–¢–µ—Å—Ç:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å `/start` –∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ - –ø–æ–ª—É—á–∏—Ç—å —ç—Ö–æ

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 2: LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
**–¶–µ–ª—å:** –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ OpenRouter

- [x] –°–æ–∑–¥–∞—Ç—å `src/bot/llm_client.py` —Å –∫–ª–∞—Å—Å–æ–º `LLMClient`
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `openai` client —Å `base_url` –Ω–∞ OpenRouter
- [x] –ú–µ—Ç–æ–¥ `get_response(messages)` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ system prompt –≤ –Ω–∞—á–∞–ª–æ —Å–æ–æ–±—â–µ–Ω–∏–π
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –±–æ—Ç–∞: –≤–º–µ—Å—Ç–æ —ç—Ö–æ - –æ—Ç–≤–µ—Ç –æ—Ç LLM

**–¢–µ—Å—Ç:** –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É - –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç –æ—Ç LLM (–±–µ–∑ –∏—Å—Ç–æ—Ä–∏–∏)

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 3: –ú–µ–Ω–µ–¥–∂–µ—Ä –¥–∏–∞–ª–æ–≥–æ–≤
**–¶–µ–ª—å:** –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞

- [x] –°–æ–∑–¥–∞—Ç—å `src/bot/dialogue_manager.py` —Å –∫–ª–∞—Å—Å–æ–º `DialogueManager`
- [x] In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: `dict` —Å `user_id ‚Üí [messages]`
- [x] –ú–µ—Ç–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∏—Å—Ç–æ—Ä–∏—é
- [x] –ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [x] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ (MAX_HISTORY_MESSAGES –∏–∑ .env)
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –±–æ—Ç–∞: –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤ LLM

**–¢–µ—Å—Ç:** –í–µ—Å—Ç–∏ –¥–∏–∞–ª–æ–≥ —Å –±–æ—Ç–æ–º - –æ–Ω –ø–æ–º–Ω–∏—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 4: –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
**–¶–µ–ª—å:** –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∫–æ–º–∞–Ω–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- [x] –ö–æ–º–∞–Ω–¥–∞ `/reset` - –æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞
- [x] –ö–æ–º–∞–Ω–¥–∞ `/help` - —Å–ø—Ä–∞–≤–∫–∞ –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥–∞—Ö
- [x] –£–ª—É—á—à–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ `/start` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

**–¢–µ—Å—Ç:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã: `/start`, `/reset`, `/help`

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 5: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
**–¶–µ–ª—å:** –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –ª–æ–≥–∞—Ö

- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `logging` –≤ `main.py`
- [x] –õ–æ–≥–∏ –≤ —Ñ–∞–π–ª `bot.log` + –∫–æ–Ω—Å–æ–ª—å
- [x] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏ –≤ `TelegramBot`: –ø–æ–ª—É—á–µ–Ω–∏–µ/–æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- [x] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏ –≤ `LLMClient`: –∑–∞–ø—Ä–æ—Å—ã/–æ—Ç–≤–µ—Ç—ã
- [x] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏ –≤ `DialogueManager`: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/–æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ (ERROR level)

**–¢–µ—Å—Ç:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `bot.log`

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 6: –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç HomeGuru
**–¶–µ–ª—å:** –†–æ–ª—å –ò–ò-–¥–∏–∑–∞–π–Ω–µ—Ä–∞ –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª —Å –ø—Ä–æ–º–ø—Ç–æ–º

**–°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞:**
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `src/bot/system_prompt.txt` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ä–æ–ª–∏ HomeGuru
- [ ] –û–ø–∏—Å–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é: –¥–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ —Å—Ç–∏–ª—è–º, –∞–Ω–∞–ª–∏–∑ –ø–æ–º–µ—â–µ–Ω–∏–π
- [ ] –£–∫–∞–∑–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏: —Ü–≤–µ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è, –º–µ–±–µ–ª—å, –¥–µ–∫–æ—Ä
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è: –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–π

**–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–ø—Ç–∞ –∏–∑ —Ñ–∞–π–ª–∞:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `src/bot/config.py`: –º–µ—Ç–æ–¥ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–º–ø—Ç–∞ –∏–∑ —Ñ–∞–π–ª–∞
- [ ] –£–¥–∞–ª–∏—Ç—å `SYSTEM_PROMPT` –∏–∑ `.env` (—Ç–µ–ø–µ—Ä—å –≤ —Ñ–∞–π–ª–µ)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `.env.example` (—É–±—Ä–∞—Ç—å SYSTEM_PROMPT)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞ –ø—Ä–æ–º–ø—Ç–∞

**–ö–æ–º–∞–Ω–¥–∞ /role:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã `/role` –≤ `bot.py`
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–æ–ª–∏ HomeGuru
- [ ] –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/help` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ `/role`

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `/start` - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –æ—Ç –∏–º–µ–Ω–∏ HomeGuru
- [ ] –û–ø–∏—Å–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∞ –¥–∏–∑–∞–π–Ω–µ –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤

**–¢–µ—Å—Ç:** –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/role` - –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–æ–ª–∏ –ò–ò-–¥–∏–∑–∞–π–Ω–µ—Ä–∞. –û—Ç–≤–µ—Ç—ã –±–æ—Ç–∞ –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–æ–ª–∏ HomeGuru.

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 7: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
**–¶–µ–ª—å:** –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ Vision API

**–°–æ–∑–¥–∞–Ω–∏–µ MediaProcessor:**
- [ ] –°–æ–∑–¥–∞—Ç—å `src/bot/media_processor.py` —Å –∫–ª–∞—Å—Å–æ–º `MediaProcessor`
- [ ] –ú–µ—Ç–æ–¥ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–æ—Ç–æ –∏–∑ Telegram
- [ ] –ú–µ—Ç–æ–¥ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ base64
- [ ] –ú–µ—Ç–æ–¥ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Vision API:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `llm_client.py`: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ —Å Vision API —á–µ—Ä–µ–∑ OpenRouter
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ OpenAI API

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –≤ –±–æ—Ç–µ:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ç–æ –≤ `bot.py`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `MediaProcessor` –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
- [ ] –ü–µ—Ä–µ–¥–∞—á–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ `DialogueManager`
- [ ] –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∫ LLM

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ DialogueManager:**
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∏—Å—Ç–æ—Ä–∏–∏
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –∏—Å—Ç–æ—Ä–∏–∏

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–æ—Ç–æ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ LLM

**–¢–µ—Å—Ç:** –û—Ç–ø—Ä–∞–≤–∏—Ç—å –±–æ—Ç—É —Ñ–æ—Ç–æ –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞ - –ø–æ–ª—É—á–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –æ—Ç HomeGuru –ø–æ –¥–∏–∑–∞–π–Ω—É.

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 8: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ
**–¶–µ–ª—å:** –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

**Speech-to-Text –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –∞—É–¥–∏–æ –≤ `MediaProcessor`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI Whisper API (—á–µ—Ä–µ–∑ OpenRouter –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é)
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- [ ] –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π Telegram –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ voice —Å–æ–æ–±—â–µ–Ω–∏–π –≤ `bot.py`
- [ ] –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ `MediaProcessor`
- [ ] –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è –∞—É–¥–∏–æ –≤ —Ç–µ–∫—Å—Ç
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∫–∞–∫ –æ–±—ã—á–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏ –∞—É–¥–∏–æ
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- [ ] –ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ–º

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `/help` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

**–¢–µ—Å—Ç:** –û—Ç–ø—Ä–∞–≤–∏—Ç—å –±–æ—Ç—É –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –≤–æ–ø—Ä–æ—Å–æ–º –æ –¥–∏–∑–∞–π–Ω–µ - –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç.

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 9: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ LangSmith
**–¶–µ–ª—å:** –¢—Ä–µ–π—Å–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤ LLM

**ADR –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [ ] –°–æ–∑–¥–∞—Ç—å ADR-02: –í—ã–±–æ—Ä LangSmith –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ LLM
- [ ] –û–±–æ—Å–Ω–æ–≤–∞—Ç—å –≤—ã–±–æ—Ä LangSmith (—Ç—Ä–µ–π—Å–∏–Ω–≥, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, debugging)
- [ ] –°–æ–∑–¥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ LangSmith –∞–∫–∫–∞—É–Ω—Ç–∞
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–µ–Ω–∏—è API –∫–ª—é—á–∞

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è LangSmith:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `langsmith` –≤ `pyproject.toml`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã LangSmith –≤ `.env`: API_KEY, PROJECT
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `.env.example` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ LangSmith
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `config.py`: –∑–∞–≥—Ä—É–∑–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ LangSmith

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—Ä–µ–π—Å–∏–Ω–≥–∞:**
- [ ] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è LangSmith –≤ `main.py` (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `@traceable` –≤ `LLMClient.get_response()`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–º—è –ø—Ä–æ–µ–∫—Ç–∞: "homeguru"
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ–≥–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ç–µ–∫—Å—Ç, —Ñ–æ—Ç–æ, –∞—É–¥–∏–æ)

**–¢—Ä–µ–π—Å–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–π—Å–∏–Ω–≥ –¥–ª—è `DialogueManager` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–π—Å–∏–Ω–≥ –¥–ª—è `MediaProcessor` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: user_id, —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**
- [ ] –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π —Ä–∞–∑–Ω–æ–≥–æ —Ç–∏–ø–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç—Ä–µ–π—Å–æ–≤ –≤ LangSmith dashboard
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏: latency, token usage

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ LangSmith
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ LangSmith

**–¢–µ—Å—Ç:** –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –±–æ—Ç–æ–º (—Ç–µ–∫—Å—Ç, —Ñ–æ—Ç–æ, –∞—É–¥–∏–æ) - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç—Ä–µ–π—Å—ã –≤ LangSmith dashboard.

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ MVP

**–ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–ò—Ç–µ—Ä–∞—Ü–∏–∏ 1-5):**
- ‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Telegram —á–µ—Ä–µ–∑ polling
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenRouter —á–µ—Ä–µ–∑ API
- ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤ (in-memory)
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã: `/start`, `/reset`, `/help`
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞
- ‚úÖ –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**HomeGuru - –ò–ò-–¥–∏–∑–∞–π–Ω–µ—Ä –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤ (–ò—Ç–µ—Ä–∞—Ü–∏–∏ 6-9):**
- [ ] –†–æ–ª—å HomeGuru —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ
- [ ] –ö–æ–º–∞–Ω–¥–∞ `/role` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤ (Vision API)
- [ ] –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (Speech-to-Text)
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ LangSmith
- [ ] –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏: —Ç–µ–∫—Å—Ç + —Ñ–æ—Ç–æ + –∞—É–¥–∏–æ
- [ ] ADR-02 —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º –≤—ã–±–æ—Ä–∞ LangSmith

---

## üìù –ó–∞–º–µ—Ç–∫–∏

**–û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞:**
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª—è–π —Ç–∞–±–ª–∏—Ü—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- **–ü–∏—à–∏ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è**
- –ö–æ–º–º–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –∏—Ç–µ—Ä–∞—Ü–∏–∏
- –ï—Å–ª–∏ –∏—Ç–µ—Ä–∞—Ü–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ - –æ—Ç–º–µ—Ç—å —Å—Ç–∞—Ç—É—Å ‚ùå –∏ –ø—Ä–∏—á–∏–Ω—É
- –í—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –∏–∑ [conventions.md](conventions.md)

**–î–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–π 6-9 (HomeGuru):**
- –ò—Ç–µ—Ä–∞—Ü–∏–∏ 6-9 –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –µ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ò—Ç–µ—Ä–∞—Ü–∏—è 6 (—Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç) - –±–∞–∑–æ–≤–∞—è, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤–æ–π
- –ò—Ç–µ—Ä–∞—Ü–∏–∏ 7-8 (—Ñ–æ—Ç–æ/–∞—É–¥–∏–æ) –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ—Å–ª–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏ 6
- –ò—Ç–µ—Ä–∞—Ü–∏—è 9 (LangSmith) –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–µ–π, –∫–æ–≥–¥–∞ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã
- –ü—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Vision/Speech-to-Text —É—á–∏—Ç—ã–≤–∞–π —Å—Ç–æ–∏–º–æ—Å—Ç—å API –∑–∞–ø—Ä–æ—Å–æ–≤
- –¢–µ—Å—Ç–∏—Ä—É–π –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ç–æ –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤
- –ü—Ä–æ–≤–µ—Ä—è–π –∫–∞—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–∞—Ö

